import{D as re,W as ye,S as Ie,i as xe,s as Ne,e as i,t as m,k,c as u,a as d,g as b,d as r,n as A,b as f,f as U,E as t,F,x as Ce,u as Te,G as Be,H as ne,I as Le,J as De,K as Ue,L as Oe,M as ce}from"../chunks/vendor-81f930e0.js";import{u as G,a as O,p as ge,b as Se}from"../chunks/store-fdb10baa.js";const We=a=>{console.log("accountsChanged",a[0]),a[0]&&re(O)&&(console.log("123",re(O)),G.setUserAddress(a[0]),O.setAuth(!0))};function Ve(a){let e,l;const n=a[5].default,s=Le(n,a,a[4],null);return{c(){e=i("main"),s&&s.c(),this.h()},l(o){e=u(o,"MAIN",{class:!0});var _=d(e);s&&s.l(_),_.forEach(r),this.h()},h(){f(e,"class","svelte-1jsqpxq")},m(o,_){U(o,e,_),s&&s.m(e,null),l=!0},p(o,_){s&&s.p&&(!l||_&16)&&De(s,n,o,o[4],l?Oe(n,o[4],_,null):Ue(o[4]),null)},i(o){l||(Ce(s,o),l=!0)},o(o){Te(s,o),l=!1},d(o){o&&r(e),s&&s.d(o)}}}function Ge(a){let e,l;return{c(){e=i("div"),l=m("\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),this.h()},l(n){e=u(n,"DIV",{class:!0});var s=d(e);l=b(s,"\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),s.forEach(r),this.h()},h(){f(e,"class","svelte-1jsqpxq")},m(n,s){U(n,e,s),t(e,l)},p:ce,i:ce,o:ce,d(n){n&&r(e)}}}function He(a){let e,l,n,s,o,_,B,C,E,S,W,h,T,M,J,p,g,z,Q,j,X,Y,w,Z,$,y,ee,H,V,L,K,I,x,te,N,se,le,P,ae,ie;const je=[Ge,Ve],oe=[];function we(c,v){return 1}return V=we(),L=oe[V]=je[V](a),{c(){e=i("div"),l=i("div"),n=i("ul"),s=i("li"),o=i("a"),_=m("Home"),B=k(),C=i("li"),E=i("a"),S=m("About"),W=k(),h=i("li"),T=i("a"),M=m("Todos"),J=k(),p=i("div"),g=i("button"),z=m("CONNECT"),Q=k(),j=i("button"),X=m("Change Wallet"),Y=k(),w=i("button"),Z=m("REAL DISC"),$=k(),y=i("button"),ee=m("GET BALANCES"),H=k(),L.c(),K=k(),I=i("footer"),x=i("p"),te=m("visit "),N=i("a"),se=m("kit.svelte.dev"),le=m(" to learn SvelteKit"),this.h()},l(c){e=u(c,"DIV",{class:!0});var v=d(e);l=u(v,"DIV",{class:!0});var ue=d(l);n=u(ue,"UL",{class:!0});var D=d(n);s=u(D,"LI",{});var de=d(s);o=u(de,"A",{"sveltekit:prefetch":!0,href:!0});var fe=d(o);_=b(fe,"Home"),fe.forEach(r),de.forEach(r),B=A(D),C=u(D,"LI",{});var he=d(C);E=u(he,"A",{"sveltekit:prefetch":!0,href:!0});var _e=d(E);S=b(_e,"About"),_e.forEach(r),he.forEach(r),W=A(D),h=u(D,"LI",{});var ve=d(h);T=u(ve,"A",{"sveltekit:prefetch":!0,href:!0});var pe=d(T);M=b(pe,"Todos"),pe.forEach(r),ve.forEach(r),D.forEach(r),ue.forEach(r),J=A(v),p=u(v,"DIV",{class:!0});var q=d(p);g=u(q,"BUTTON",{class:!0});var me=d(g);z=b(me,"CONNECT"),me.forEach(r),Q=A(q),j=u(q,"BUTTON",{class:!0});var be=d(j);X=b(be,"Change Wallet"),be.forEach(r),Y=A(q),w=u(q,"BUTTON",{class:!0});var Ee=d(w);Z=b(Ee,"REAL DISC"),Ee.forEach(r),$=A(q),y=u(q,"BUTTON",{class:!0});var qe=d(y);ee=b(qe,"GET BALANCES"),qe.forEach(r),q.forEach(r),v.forEach(r),H=A(c),L.l(c),K=A(c),I=u(c,"FOOTER",{class:!0});var ke=d(I);x=u(ke,"P",{});var R=d(x);te=b(R,"visit "),N=u(R,"A",{href:!0,class:!0});var Ae=d(N);se=b(Ae,"kit.svelte.dev"),Ae.forEach(r),le=b(R," to learn SvelteKit"),R.forEach(r),ke.forEach(r),this.h()},h(){f(o,"sveltekit:prefetch",""),f(o,"href","/"),f(E,"sveltekit:prefetch",""),f(E,"href","/about"),f(T,"sveltekit:prefetch",""),f(T,"href","/todos/aboutt"),f(n,"class","petya list-disc list-inside"),f(l,"class","nav__menu svelte-1jsqpxq"),f(g,"class","svelte-1jsqpxq"),f(j,"class","svelte-1jsqpxq"),f(w,"class","svelte-1jsqpxq"),f(y,"class","svelte-1jsqpxq"),f(p,"class","nav__buttons svelte-1jsqpxq"),f(e,"class","svelte-1jsqpxq"),f(N,"href","https://kit.svelte.dev"),f(N,"class","svelte-1jsqpxq"),f(I,"class","svelte-1jsqpxq")},m(c,v){U(c,e,v),t(e,l),t(l,n),t(n,s),t(s,o),t(o,_),t(n,B),t(n,C),t(C,E),t(E,S),t(n,W),t(n,h),t(h,T),t(T,M),t(e,J),t(e,p),t(p,g),t(g,z),t(p,Q),t(p,j),t(j,X),t(p,Y),t(p,w),t(w,Z),t(p,$),t(p,y),t(y,ee),U(c,H,v),oe[V].m(c,v),U(c,K,v),U(c,I,v),t(I,x),t(x,te),t(x,N),t(N,se),t(x,le),P=!0,ae||(ie=[F(g,"click",a[0]),F(j,"click",a[1]),F(w,"click",a[2]),F(y,"click",a[3])],ae=!0)},p(c,[v]){L.p(c,v)},i(c){P||(Ce(L),P=!0)},o(c){Te(L),P=!1},d(c){c&&r(e),c&&r(H),oe[V].d(c),c&&r(K),c&&r(I),ae=!1,Be(ie)}}}{const a=window.ethereum;if(a){const e=new ye(window.ethereum);console.log("provider",e),a.on("accountsChanged",We),a.on("chainChanged",l=>{console.log("chainChanged",l)}),a.on("connect",l=>{console.log("connect",l)}),a.on("disconnect",l=>{console.log("disconnect",l)}),ge.set(e),re(O)==="true"&&G.setUserAddress(a.selectedAddress)}}function Ke(a,e,l){let n,s,o;ne(a,G,h=>l(6,n=h)),ne(a,ge,h=>l(7,s=h)),ne(a,Se,h=>l(8,o=h));let{$$slots:_={},$$scope:B}=e;const C=async()=>{const h=await s.provider.request({method:"eth_requestAccounts"});await s.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]}),G.setUserAddress(h[0]),O.setAuth(!0)},E=async()=>{await s.provider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),await s.provider.request({method:"eth_requestAccounts"})},S=()=>{G.setUserAddress(""),O.setAuth(!1)},W=async()=>{console.log("balance",o),console.log(o),console.log(await s.getBalance(n.address))};return a.$$set=h=>{"$$scope"in h&&l(4,B=h.$$scope)},[C,E,S,W,B,_]}class Fe extends Ie{constructor(e){super();xe(this,e,Ke,He,Ne,{})}}export{Fe as default};
